# 现在有很多思路，但是好多都是不行的
# 所以我打算先走 Proxifier 的思路。
# 他们都说老版本是 lsp 拦截技术，或者是 winsock dll hook。
# 但是老版本的技术过于丑陋，会导致cpu飙升。
# 所以新方法是 在R0层通过过滤驱动的方式，劫持了A.exe进程发送的数据包

Npcap: 
  - 失败了 # 因为只能获取包，不能拦截包。
  - 好像 Wireshark都不能拦截? # https://www.zhihu.com/question/296876516
TUN: 有待尝试，因为过于丑陋，优先级并不高。
R0层通过过滤驱动的方式: # 尝试中。
  寒江独钓: 先学习这本书。

计划:
  2023年10月10日: 尽量搞定双机调试
  2023年10月12日: 完成个屁，昨天都没时间搞，今天看看能不能搞双机调试吧。
  2023年10月13日: 太难啦！昨天搞了俩小时都没搞定，今天看看有没有时间搞吧。 | 虚拟机启动突然变的特别慢 | 双机调试好像是成功了
  2023年10月16日: 虚拟机依然很慢，需要解决。 # 这几天实在不想学习，哎，慢慢来吧！
  2023年10月17日: 虚拟机启动慢好像是因为 Windbg 的原因？还是开了 debug pipe的原因。正在研究加断点，今天也很忙。| 虚拟机启动慢是因为 debug on.
  2023年10月18日: 今天一直在工作浪费生命，还是下次不忙的时候再搞吧。 | 回到家看了会儿 Windbg 调试普通c++程序的视频。明天继续看吧。
  2023年10月19日: 浪费生命 Too | 准备回家，明天继续。
  2023年10月23日: 好困啊，今天任务是工作、好好睡觉。
  2023年10月24日: 一整天都在工作，九点下班，压根没有时间学习别的东西，这个月就这样吧先。
  2023年10月25日: AndroidStudio格式化突然出问题，疯狂搞我心态，然后我登录QQ的时候，突然自动安装QQ play，把我心态搞炸了。八点下班，累死，回家尽量学习。
  2023年10月26日: Loading贼慢，没法解决，照常无薪免费加班到七点半，这次回家必须得学习，你没时间再玩了！妈的！但是今天找到了一个网络过滤的开源，得好好研究一下。没想到加班到了九点十分钟，该走了，不然跑步都跑不了。他妈的还是免费加班草！
  2023年10月27日: 憋屎大赛，开始！那个开源的代码我成功编译出来了，我打算在Windows 7 32位系统中尝试安装一下，看看效果。真的可以啊！好厉害！从现在开始研究这个代码的原理。我压根看不懂代码啊，还是看书吧，慢慢啃，先打基础。
  2023年10月29日: 学习！睡着了，浪费一周，法克！晚上吃完饭，学习到12点，不管学什么，学！开始！先在JD买了Windows内核安全与驱动开发电子书。慢慢看！他妈的，居然不能离线阅读，真他吗服拉，我曹！算了，懒得退款了，而且好像就是不能退款，真的恶心，慢慢看吧，懒得追究。因为好多琐事耽误了学习，现在休息吧，12点有点理想了，得留下睡着的时间。
  2023年10月30日: 学习！学个屁！搞了一个超级难搞的bug，搞到五点，还得做别的工作，慢慢来吧！今天浪费一天在工作中，明天一定要好好学习！看看能不能学吧。困了！但是！继续加油！跟着书抄写！你真的很努力了！加油！抄的代码一直蓝屏，明天再看吧，感觉不会短时间内解决。
  2023年10月31日: 学习！之后发现蓝屏的原因是我忽略警告和wdk版本不一致的原因，该工作了，哎！工作了大半天累死我了。又得修BUG，服啦！！加班加了一个小时！！！！！fuck！！！回家！！！再也不看视频了！！睡觉！
  2023年11月01日: 好好工作，把问题解决一下。加班到八点，最终还是问了组长才解决，果然组长还是牛逼！以后有问题就先问别人先。今天好好休息！
  2023年11月02日: 再也不看视频，好好整理昨天的东西，把工作完成，然后学习！有时间就慢慢咀嚼驱动代码的意思，慢慢消化。今天又是干了一天的活，累死！回家好好看下书，抄下代码。好困好累，但是坚持一会儿吧，好吗？今天确实没有看视频，但是中途吃东西洗澡发呆导致效率不高，而且很困很困，但是也已经很好了，真的！我为你骄傲，嘿嘿，稍微再看会儿睡觉吧。
  2023年11月03日: 先工作，后学习。蓝屏到自闭，又回到研究调试了，但是之前不是调试太卡嘛，这次让他不卡为目标，搞！解决了，还是得大佬啊！！明天用调试把蓝屏解决一下。
  2023年11月04日: 学习！蓝屏解决！困到爆，现在研究代码，但是好难啊，压根看不懂，哎，慢慢来。我发现越到后面就越看不懂了，代码也懒得复制粘贴编译了！或许我不适合学习？只能说再试试几个月，不行就算了吧！今天就到此为止，明天继续吧，主要是我觉得可以开始搞一个网络过滤驱动了。当然，其实就是想休息玩游戏了。。
  2023年11月05日: 昨儿忘了，今天要出去吃饭的，只能晚上学习了。刚刚困的要死，睡了一觉，感觉现在也很困。我没法坚持了，我要玩游戏了！不知道为啥，今天好烦躁啊，总是想看视频！我受不了了！再坚持会儿！学习就先算了吧，先稳住不看视频。
  2023年11月06日: 我昨天失眠了，我要不要睡觉的时候不要听小说？哎！试试吧。先把这些东西搞定。搞定个屁！我太在乎了，压根别在意即可。又浪费了一天，而且还自愿加班了，而且还没解决问题，哈哈哈哈哈哈！草！
  2023年11月07日: 好累，最近。浪费一整天，回家好好休息，我就满足了。
  2023年11月08日: CV大法。NdisPortFilteringDriver因为win10不支持ndis5所以没法正常运行，WfpFilteringDriverByOther这别人写的例子里面没有数据包怎么获取的概念所以下一个，中途因为拉稀导致我一直搜药相关的浪费大量时间。还是尽量看微软官方英文文档吧，下载了微软驱动代码，编译试试！编译WFPSampler。好难懂，看了好久，但是没看懂，再看会儿。慢慢看就行啦，不用太着急。好嘞，今天又没学习，明天开始不看视频了。
  2023年11月09日: 又失眠了，打算今天开始禁止一切娱乐，坚持到来年，简单是吧？每天只睡7个小时试试。今天的话好好搞懂WFPSampler，但是不用太尽力，因为现在重要的是睡眠，而且工作也得干。一直在工作，从未停歇，好困啊，今天感觉没法看代码了。一直在工作！虽然困得要死，但是稍微再看一会儿吧，今天还有HR找我，但是我知道，不会有结果的，好好学习才是硬道理！困得要晕倒，要克服失眠！
  2023年11月10日: 工作了一天，刚刚又来劝我，我很感动，这么多人关心我，我有什么理由不能死？加油吧！我发现还是得读readme，发现得把所有的东西都编译才能正常使用，我说驱动开了啥反应都没有。
  2023年11月11日: 玩了一天。
  2023年11月12日: 今天开始吧...自律太难了！搞了一会儿还是没搞好，算了吧，慢慢来。妈的，我又看半天视频，我周末就他妈的净看视频了。这样吧，真的，这次真的挑战一下不看视频到这一年结束吧，尝试一下怎么样？......好，明天的任务是解决mpssvc服务staring&&stoping个不停的问题，然后让WFPSampler顺利的启动。
  2023年11月13日: 计划很美好，但是现实很残酷，我工作了一整天，浪费了一整天，坚持不看视频，回家再看看吧，慢慢来。我排查了一下，好像是系统的问题，我还得慢慢搞，但是我先用一下WFPSampler，看看效果。成功了，得好好总结，好好整理，然后进行下一步。下一步目标是让它在非testMode下运行。今天做的好，但是我知道后续会更难坚持下去，但是努力，我们可以的。看看别人的驱动是怎么过的，比如OpenArk.
  2023年11月14日: 工作一整天，太忙了，压根没时间休息，哎！浪费！得再加会儿班。八点下班不知道为什么到家就九点，好累，啥都没干。就下了几个文件，整理了下东西。打算编译openark.
  2023年11月15日: 最近真的是太忙了，而且睡眠质量极差！我会不会猝死，没事，慢慢来，毕竟我已经决定不看视频了，这是一个好消息，我如同宇宙中的尘埃，无所谓了。最近太忙了，也好累，整理文件吧。文件也忒多了吧！不行了，太困了。
  2023年11月16日: 今天没学习，懒得学，好多bug也没能解决，而且手机没信号，挑了半天，没事，买了个垃圾也没事，会好起来的，之后再给你买新的，我知道，慢慢来吧，我知道你很难受，但是没事的。今天又是整理文件，突然想到网盘，搞了个挂载，感觉没多大用。
  
Todo: 用WFPSample项目实现一次我想要实现的。
    
Fidder: 设置系统代理，设置为 Fidder 的8888端口。

Reference:
  请问下 Proxifier 的原理是什么?: https://www.zhihu.com/question/296876516
  详解云计算网络底层技术——虚拟网络设备 tap/tun 原理解析: https://cloud.tencent.com/developer/article/1432451
  真-全局代理原理细谈: https://blog.csdn.net/qq_29656325/article/details/125887966
